<!-- Filter -->
<div class="grid grid-cols-3 gap-4">
  <div class="col-start-1 col-end-4 mt-8">
    <form [formGroup]="dateRangeForm">
      <div class="md:flex my-3 hidden items-end flex-wrap ">
        <div class="mr-3 w-[33%]">
          <label for="" class="block text-sm text-gray-400 regularfont">Filter By</label>
          <ng-select [multiple]="true" [(ngModel)]="filter" [ngModelOptions]="{ standalone: true }"
            [items]="filterList">
            <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
              <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                <span class="ng-value-label">{{ item }}</span>
                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">Ã—</span>
              </div>
              <div class="ng-value" *ngIf="items.length > 2">
                <span class="ng-value-label">{{ items.length - 2 }} more...</span>
              </div>
            </ng-template>
          </ng-select>
        </div>
        <div class="mr-3">
          <label for="from" class="block text-sm text-gray-400 regularfont">From</label>
          <input type="date" formControlName="start"
            class="lg:w-[150px] h-[39px] text-gray-400 py-[15px] text-xs border border-gray-300 rounded  focus:outline-0 focus:ring-0 brd">
        </div>
        <div class="mr-3"><label for="from" class="block text-sm text-gray-400 regularfont">To</label>
          <input type="date" formControlName="end"
            class="lg:w-[150px] h-[39px] text-gray-400 py-[15px] text-xs border border-gray-300 rounded focus:outline-0 focus:ring-0 brd">
        </div>
        <br>
        <div class="mr-3 mt-3 w-[20%]" *ngIf="filter.includes('Status')">
          <label for="" class="block text-sm text-gray-400 regularfont">Filter By Staus</label>
          <ng-select formControlName="trnResponseCode" [items]="responseList" bindLabel="name" bindValue="value">
          </ng-select>
        </div>
        <div class="mr-3 mt-3 " *ngIf="filter.includes('Amount')">
          <label for="amt" class="block text-sm text-gray-400 regularfont">Filter By Amount</label>
          <input formControlName="trnAmount" decimalOnly style="padding-left: 10px;"
            class="lg:w-[150px] h-[39px] text-gray-400 py-[15px] text-xs border border-gray-300 rounded focus:outline-0 focus:ring-0 brd">
        </div>
        <div class="mr-3 mt-3" *ngIf="filter.includes('Reference')">
          <label for="amt" class="block text-sm text-gray-400 regularfont">Filter By Reference</label>
          <input formControlName="trnReference" decimalOnly style="padding-left: 10px;"
            class="lg:w-[150px] h-[39px] text-gray-400 py-[15px] text-xs border border-gray-300 rounded focus:outline-0 focus:ring-0 brd">
        </div>
        <div class="mr-3 mt-3 w-[25%]" *ngIf="filter.includes('Payment Method')">
          <label for="" class="block text-sm text-gray-400 regularfont">Filter By Payment Method</label>
          <ng-select formControlName="trnService" [items]="method" bindLabel="name" bindValue="value">
          </ng-select>
        </div>
      </div>
    </form>
  </div>
  <div class="col-end-6 col-span-2 mt-10">
    <div>
      <button 
        class=" w-[150px] py-[15px] rounded flex p-2 text-white bg-download-report text-sm mx-4 text-center ">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_537_5281)">
            <path
              d="M1.33325 7.33317H14.6666V13.3332C14.6666 13.51 14.5963 13.6796 14.4713 13.8046C14.3463 13.9296 14.1767 13.9998 13.9999 13.9998H1.99992C1.82311 13.9998 1.65354 13.9296 1.52851 13.8046C1.40349 13.6796 1.33325 13.51 1.33325 13.3332V7.33317ZM11.3333 1.99984H13.9999C14.1767 1.99984 14.3463 2.07008 14.4713 2.1951C14.5963 2.32012 14.6666 2.48969 14.6666 2.6665V5.99984H1.33325V2.6665C1.33325 2.48969 1.40349 2.32012 1.52851 2.1951C1.65354 2.07008 1.82311 1.99984 1.99992 1.99984H4.66659V0.666504H5.99992V1.99984H9.99992V0.666504H11.3333V1.99984Z"
              fill="#F2F2F2" />
          </g>
          <defs>
            <clipPath id="clip0_537_5281">
              <rect width="16" height="16" fill="white" />
            </clipPath>
          </defs>
        </svg> <span class="flex-1">Export Table <span *ngIf="loader.btn.download === true"><i
              class="fa fa-spinner fa-spin"></i></span></span>
      </button>
    </div>
  </div>
</div>
<!-- Filter -->

<!-- TABLE -->
<div class="relative overflow-x-auto mt-10 mb-10">
  <table class="w-full text-sm text-left text-gray-500">
    <thead class="text-xs text-gray-400 uppercase bg-gray-50">
      <tr>
        <th scope="col" class="px-6 py-3">
          AMOUNT
        </th>
        <th scope="col" class="px-6 py-3">
          Transaction Reference
        </th>
        <th scope="col" class="px-6 py-3">
          Payment Method
        </th>
        <th scope="col" class="px-6 py-3">
          Description
        </th>
        <th scope="col" class="px-6 py-3">
          Date\Time
        </th>
        <th scope="col" class="px-6 py-3">
          Status
        </th>
      </tr>
    </thead>
    <tbody>
      <tr class="bg-white border-b  hover:bg-gray-100 " *ngFor="let item of settlementList">
        <td class="px-6 py-4">
          <div class="flex p-2 rounded hover:bg-gray-100">
            <div class="flex items-center h-5">
              <!-- success -->
              <svg *ngIf="item?.trnResponseCode === '00'" width="11" height="11" viewBox="0 0 11 11" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="5.5" cy="5.5" r="5.5" fill="#35B172" />
              </svg>
              <!-- pending -->
              <svg *ngIf="item?.trnResponseCode === '09'" width="11" height="11" viewBox="0 0 11 11" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="5.5" cy="5.5" r="5.5" fill="#FF8A00" />
              </svg>
              <!-- failed -->
              <svg *ngIf="item?.trnResponseCode === '25'" width="11" height="11" viewBox="0 0 11 11" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="5.5" cy="5.5" r="5.5" fill="#FF0000" />
              </svg>

            </div>
            <div class="ml-2 text-sm">
              {{formatAmt(item?.trnAmount)}}
            </div>
          </div>
        </td>
        <td class="px-6 py-4">
          {{item?.trnReference}}
        </td>
        <td class="px-6 py-4">
          <span class="inline-block bg-gray-200 px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">
            {{item?.trnService}}
          </span>
        </td>
        <td class="px-6 py-4">
          {{item?.trnNarration}}
        </td>
        <td class="px-6 py-4">
          {{item?.trnCreatedAt}}
        </td>
        <td class="px-6 py-4">
          <span *ngIf="item?.trnResponseCode === '00'"
            class="inline-block bg-[#DBFFED] px-3 py-1 text-sm font-semibold text-[#35B172] mr-2 mb-2">
            Successful
          </span>
          <span *ngIf="item?.trnResponseCode === '25'"
            class="inline-block bg-[#FFDBDA] px-3 py-1 text-sm font-semibold text-[#FF0000] mr-2 mb-2">
            Failed
          </span>
          <span *ngIf="item?.trnResponseCode === '09'"
            class="inline-block bg-[#FFEDD7] px-3 py-1 text-sm font-semibold text-[#FF8A00] mr-2 mb-2">
            Pending
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- TABLE -->